<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>StockFacil Admin</title>
  <meta name="robots" content="noindex,nofollow,noarchive">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="admin-global-loading" class="global-loading hidden" aria-live="polite" aria-busy="true">
    <div class="global-loading-content">
      <span class="global-spinner" aria-hidden="true"></span>
      <span>Procesando...</span>
    </div>
  </div>

  <header class="top-banner">
    <div class="top-banner-inner">
      <strong class="top-banner-title">StockFacil Admin</strong>
      <div class="top-banner-controls">
        <button id="admin-refresh-btn" type="button" class="mode-btn-secondary hidden">Actualizar</button>
        <button id="admin-logout-btn" type="button" class="mode-btn-secondary hidden">Cerrar sesion</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section id="admin-login-panel" class="panel">
      <h1>Panel administrador</h1>
      <p class="subtitle">Acceso restringido a una sola cuenta.</p>
      <button id="admin-login-btn" type="button">Ingresar con Google</button>
      <p id="admin-feedback" class="feedback" aria-live="polite"></p>
    </section>

    <section id="admin-dashboard-panel" class="panel hidden">
      <h2>Panel administrador</h2>

      <div class="section-nav">
        <button id="admin-nav-users-btn" type="button" class="mode-btn is-active">Usuarios</button>
        <button id="admin-nav-plans-btn" type="button" class="mode-btn-secondary">Planes</button>
         <button id="admin-nav-products-btn" type="button" class="mode-btn-secondary">Productos</button>
      </div>

      <section id="admin-users-section">
        <div class="cards-grid">
          <article class="summary-card">
            <h3>Usuarios</h3>
            <p id="metric-total-users" class="metric-value">0</p>
          </article>
          <article class="summary-card">
            <h3>Empleados</h3>
            <p id="metric-total-employees" class="metric-value">0</p>
          </article>
          <article class="summary-card">
            <h3>Productos</h3>
            <p id="metric-total-products" class="metric-value">0</p>
          </article>
          <article class="summary-card">
            <h3>Estimado</h3>
            <p id="metric-estimated-revenue" class="metric-value">$0,00 / mes</p>
          </article>
        </div>

        <p id="admin-generated-at" class="subtitle"></p>

        <div class="users-filters">
          <label for="admin-users-search" class="users-filters-label">Buscar usuario</label>
          <input
            id="admin-users-search"
            type="search"
            placeholder="Negocio, email, direccion o nombre de usuario"
            autocomplete="off"
          >
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Email</th>
                <th>Telefono</th>
                <th>Negocio</th>
                <th>Direccion</th>
                <th>Plan actual</th>
                <th>Ultimo acceso</th>
                <th>Fecha creacion</th>
                <th>Fecha pago</th>
                <th>Cantidad empleados</th>
                <th>Cantidad productos</th>
              </tr>
            </thead>
            <tbody id="admin-users-table-body">
              <tr>
                <td colspan="11">Sin datos.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <section id="admin-user-actions-panel" class="user-actions-panel hidden">
          <h3>Acciones de cuenta</h3>
          <p id="admin-selected-user-meta" class="subtitle">Selecciona un usuario para administrar su cuenta.</p>

          <div class="user-actions-buttons">
            <button id="admin-toggle-user-status-btn" type="button" class="mode-btn-secondary">Suspender cuenta</button>
            <button id="admin-open-whatsapp-btn" type="button">Abrir WhatsApp</button>
          </div>

          <h4>Empleados actuales</h4>
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Email</th>
                  <th>Telefono</th>
                  <th>Estado</th>
                  <th>Accion</th>
                </tr>
              </thead>
              <tbody id="admin-employees-table-body">
                <tr>
                  <td colspan="5">Selecciona un usuario para ver sus empleados.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </section>

      <section id="admin-plans-section" class="hidden">
        <p class="subtitle">Selecciona un plan para editar sus datos.</p>
        <p id="admin-plans-feedback" class="feedback" aria-live="polite"></p>

        <div id="admin-plan-cards" class="plan-cards" aria-live="polite"></div>

        <form id="admin-plan-form" class="plan-editor hidden">
          <h3>Edicion de plan</h3>
          <label for="admin-plan-id">ID</label>
          <input id="admin-plan-id" type="text" readonly>

          <label for="admin-plan-title">Titulo</label>
          <input id="admin-plan-title" type="text" maxlength="80">

          <label for="admin-plan-price">Precio</label>
          <input id="admin-plan-price" type="text" maxlength="80">

          <label for="admin-plan-description">Descripcion</label>
          <textarea id="admin-plan-description" rows="3" maxlength="300"></textarea>

          <label for="admin-plan-features">Caracteristicas (una por linea)</label>
          <textarea id="admin-plan-features" rows="4" maxlength="900"></textarea>

          <label for="admin-plan-max-employees">Maximo de empleados</label>
          <input id="admin-plan-max-employees" type="number" min="0" step="1">

          <label for="admin-plan-order">Orden</label>
          <input id="admin-plan-order" type="number" min="0" step="1">

          <label class="checkbox-field" for="admin-plan-active">
            <input id="admin-plan-active" type="checkbox">
            Plan activo
          </label>

          <button id="admin-plan-save-btn" type="submit">Guardar cambios</button>
        </form>
      </section>

      <section id="admin-products-section" class="hidden">
        <p class="subtitle">Explora productos por usuario activo.</p>
        <p id="admin-products-feedback" class="feedback" aria-live="polite"></p>

        <div class="products-filters">
          <div class="products-filter-group">
            <label for="admin-products-user-select" class="users-filters-label">Usuario activo</label>
            <select id="admin-products-user-select">
              <option value="">Selecciona un usuario...</option>
            </select>
          </div>

          <div class="products-filter-group">
            <label for="admin-products-search" class="users-filters-label">Buscar producto</label>
            <input
              id="admin-products-search"
              type="search"
              placeholder="Codigo, nombre o categoria"
              autocomplete="off"
            >
          </div>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Codigo</th>
                <th>Nombre</th>
                <th>Categoria</th>
                <th>Stock</th>
                <th>Precio venta</th>
                <th>Precio compra</th>
              </tr>
            </thead>
            <tbody id="admin-products-table-body">
              <tr>
                <td colspan="6">Selecciona un usuario activo para ver productos.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>


    </section>
  </main>

  <script type="module" src="app.js"></script>
</body>
</html>
